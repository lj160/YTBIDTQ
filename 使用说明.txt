YouTube频道ID提取工具 - 使用说明
===============================================

【功能介绍】
这是一个专门用于提取和管理YouTube频道ID的Web应用，支持API密钥管理和自动配额控制。

【主要功能】
1. 从YouTube频道URL中提取频道ID
2. 查询频道ID是否已存在于数据库中
3. 保存新的频道ID到数据库
4. 查看所有已保存的频道列表
5. API密钥管理（添加、监控、自动轮询）
6. 自动配额管理和有效性检查

【支持的URL格式】
- https://www.youtube.com/channel/UC...
- https://www.youtube.com/c/channelname
- https://www.youtube.com/user/username  
- https://www.youtube.com/@channelname

【快速开始】

方法一：使用启动脚本（推荐）
1. 双击运行 "启动.bat" 文件
2. 等待自动安装依赖和启动应用
3. 在浏览器中访问 http://localhost:5000

方法二：手动启动
1. 确保已安装Python 3.6或更高版本
2. 打开命令提示符，进入项目目录
3. 运行：pip install -r requirements.txt
4. 运行：python main.py
5. 在浏览器中访问 http://localhost:5000

【使用步骤】

1. 频道管理：
   - 切换到"频道管理"标签页
   - 在输入框中粘贴YouTube频道URL
   - 点击"查询"按钮检查频道是否存在
   - 点击"上传"按钮保存频道ID

2. API密钥管理：
   - 切换到"API密钥管理"标签页
   - 在输入框中输入YouTube Data API v3密钥
   - 点击"添加密钥"按钮
   - 系统会自动验证密钥有效性并添加到数据库

【API密钥管理特性】

1. 自动轮询调用：
   - 系统会自动轮询使用所有有效的API密钥
   - 优先使用配额使用最少的密钥
   - 避免单个密钥过度使用

2. 配额管理：
   - 每个密钥默认配额限制为9500次/天
   - 实时监控配额使用情况
   - 自动跳过已超配额的密钥

3. 有效性检查：
   - 每天凌晨3点（香港时间）自动检查所有密钥有效性
   - 自动标记无效密钥
   - 只保留有效的密钥

4. 配额重置：
   - 每天凌晨2点（香港时间）自动重置所有密钥配额
   - 确保每日配额正常使用

5. 安全存储：
   - API密钥使用加密存储
   - 避免密钥泄露风险
   - 支持密钥哈希去重

【注意事项】

1. API密钥获取：
   - 访问 https://console.cloud.google.com/
   - 创建项目并启用YouTube Data API v3
   - 创建API密钥并设置适当的限制

2. 配额优化：
   - 建议添加多个API密钥以提高可用性
   - 系统会自动平衡各密钥的使用
   - 避免单个密钥配额耗尽

3. 安全性：
   - API密钥在数据库中加密存储
   - 定期检查密钥有效性
   - 建议设置API密钥的IP限制

4. 时区设置：
   - 系统使用香港时区（Asia/Hong_Kong）
   - 配额重置和有效性检查基于香港时间

【技术信息】
- 后端：Python Flask
- 前端：HTML5, CSS3, JavaScript
- 数据库：SQLite
- 时区：香港时区（Asia/Hong_Kong）
- 支持平台：Windows, macOS, Linux

【故障排除】

1. API密钥无效：
   - 检查密钥是否正确
   - 确认YouTube Data API v3已启用
   - 检查配额是否已用完

2. 配额问题：
   - 添加更多API密钥
   - 等待每日配额重置
   - 检查密钥使用限制

3. 时区问题：
   - 确保系统时间正确
   - 检查pytz库是否正确安装 